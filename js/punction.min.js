jQuery(document).ready(function(a){a("#patientForm").submit(function(){var b=a.trim(a('[name="NAME"]').val()),c=a.trim(a('[name="PESEL"]').val());return""===b?(alert("Należy wypełnić pole Nazwisko i imię."),!1):0!=c.length&&11!=c.length?(alert("Nieprawidłowy PESEL."),!1):void 0})}),jQuery(document).ready(function(a){function b(a){switch(a){case"1":return"alert-success";case"2":return"alert-warning";case"3":return"alert-danger";default:return""}}function c(c,d,e){var f=a(c);f.attr("id",e);var g=b(d);f.addClass("k"+d),a("td",c).eq(0).addClass(g)}function d(){try{var b=a('.btn-group > .btn[name="patientTypes"].active'),c=b.val().split("-"),d=c[0],e=c[1];a("#patients-min-category").val(d),a("#patients-max-category").val(e);var f=a("#patientsTable").DataTable();f.draw(!1)}catch(g){console.log("table filters:"+g)}}if(0!=a("#patientsTable").length){a("#patientsTable").DataTable({iDisplayLength:12,paging:!1,scrollY:"450px",order:[[1,"asc"]],language:{processing:"Przetwarzanie...",search:"Szukaj",paginate:{first:"Pierwsza strona",previous:"Poprzednia",next:"Następna",last:"Ostatnia strona"},lengthMenu:"Pokaż _MENU_ pacjentów",zeroRecords:"Nie znaleziono pasujących pacjentów",sInfoThousands:" ",info:"Pacjenci od _START_ do _END_ z _TOTAL_ łącznie",infoEmpty:"Pacjenci 0 z 0 dostępnych",infoFiltered:"(filtrowanie spośród _MAX_ dostępnych pacjentów)",infoPostFix:"",sUrl:"",emptyTable:"Brak danych",loadingRecords:"Wczytywanie...",oAria:{sSortAscending:": aktywuj, by posortować kolumnę rosnąco",sSortDescending:": aktywuj, by posortować kolumnę malejąco"}},data:patientsData,columns:patientColumns,columnDefs:[{targets:[0],visible:!1,searchable:!1}],createdRow:function(a,b,d){c(a,b.kategoriaPacjenta,b.id)}})}jQuery("div.dataTables_filter").detach().appendTo("div.form-group#search-navbar"),jQuery("div.dataTables_length").detach().appendTo("div#length-navbar"),a('.btn-group > button.btn[name="patientTypes"]').click(function(){a('.btn-group > .btn[name="patientTypes"]').removeClass("active"),a(this).addClass("active"),d()}),a.fn.dataTable.ext.search.push(function(b,c,d){var e=parseInt(a("#patients-min-category").val()),f=parseInt(a("#patients-max-category").val()),g=parseInt(c[5])||0;return isNaN(e)&&isNaN(f)||isNaN(e)&&f>=g||g>=e&&isNaN(f)||g>=e&&f>=g?!0:!1})}),jQuery(document).ready(function(a){a(".datepicker").datepicker({format:"yyyy-mm-dd",language:"pl",autoclose:!0,todayHighlight:!0,startDate:"-7d",endDate:new Date})}),jQuery(document).ready(function(a){function b(){a("#patients_form_ajax input:radio").attr("checked",!1)}function c(b){try{a(b).attr("checked",!0)}catch(c){}}function d(){var b=[];for(i=1;i<=3;i++)b[i]=a("#patients_form_ajax input[value="+i+"]:checked").length,a("#punction_c"+i).html(b[i]);return b[3]<=1?b[2]>2?2:1:2==b[3]?2:b[3]>2?3:void 0}function e(){var b=a("#patients_form_ajax input:checked").length,c=a("#patients_form_ajax .btn-group").length,e=100*b/c;a("div#progress").attr("aria-valuenow",e),a("div#progress").css("width",e+"%");var f=d();a("#punction_pc").html(f)}function f(b,c,d,e){a("#patient-name").html(b+" ("+c+")"),a("#patient-id").val(d),a("#rowIndex").val(e)}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a){for(var b in a){var d=a[b],f="input[id="+g(b)+d+"]:radio";c(f)}e()}function j(b){var c=a("#patientsTable").dataTable().fnGetPosition(b),d=c[0],e=a("#patientsTable").dataTable().fnGetData(d);f(e.name,e.pesel,e.id,d),h(e)}function k(b){try{var c={action:"delete_action",id:b};jQuery.post("admin-ajax.php",c,function(b){try{var c=b.replace("\n","");console.log("RESPONSE: "+b);var d=a("#patientsTable").DataTable(),e=d.row(a("tr#"+c));e.remove().draw(!1)}catch(f){console.log("ERR: "+f)}})}catch(d){console.log("ERR: "+d)}}a("#patients_form_ajax input").on("click",function(a){e()}),a("#patientsTable tbody td").live("click",function(){a.fancybox({minWidth:750,minHeight:500,scrolling:"no",fitToView:!0,autoSize:!1,openEffect:"elastic",closeEffect:"elastic",href:"#patients_form_ajax"}),b(),j(this)}),a("#confirm-delete").on("click",function(){bootbox.setDefaults({locale:"pl"}),bootbox.confirm("Czy na pewno usunąć pacjenta w dniu dzisiejszym?",function(c){if(c){var d=a("#patient-id").val().replace("\n","");k(d),b(),a.fancybox.close()}else console.log("nie i ch*j")})})}),jQuery(document).ready(function(a){function b(b,c){try{var d=a("tr#"+b).attr("class");d=d.replace(/k[0-3]/g,"k"+c),a("tr#"+b).attr("class",d),a("tr#"+b+">td:nth-of-type(1)").attr("class",getRowClass(c))}catch(e){console.log("setRowClass function:"+e)}}function c(a,c){try{var d=a.row("tr#"+c.id);d.data(c)}catch(e){console.log("setRow function:"+e)}b(c.id,c.kategoriaPacjenta)}function d(b){var d=a("#patientsTable").DataTable(),e=JSON.parse(b);try{c(d,e)}catch(f){console.log("setRow:"+f)}a('.btn-group > button[name="patientTypes"].btn.active').click()}function e(b){return a("<html>"+b+"</html>").text()}function f(a){try{jQuery.post("admin-ajax.php",a,function(a){try{var b=e(a);console.log("RESPONSE: "+b),d(a),h()}catch(c){console.log("ERR: "+c)}})}catch(b){console.log("ERR: "+b)}}function g(){var b={};b.id=a("#patient-id").val().replace("\n",""),a("#patients_form_ajax input:checked").each(function(){var c=a(this).attr("name"),d=a(this).attr("value");b[c]=d}),b.kategoriaPacjenta=a("#punction_pc").html(),b.typ=wardType;var c=JSON.stringify(b);return console.log("CATEGORIES: "+c),c}function h(){a.fancybox.close()}a("#save").on("click",function(){var a={action:"my_action",data:g()};f(a)}),setTimeout(h,150),a("#forward").click(function(){formNextPage()})}),jQuery(document).ready(function(a){function b(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}}a("a.ab-item").each(function(){a(this).attr("id","a-"+a(this).parent().attr("id"))});var c=b("hide");a("#"+c).hide();var d=b("important");a("#"+d).addClass("important")});